<html>
    <head>
        <%- include('partials/navbar_shippingBracket') %>
    <style>
        .shipping-bracket {
            flex: 1; 
            display: flex;
            align-items: left;
            justify-content: left; 
            margin-right: -0.5rem;
        }

        .search-by {
            flex: 1; 
            display: flex;
            align-items: left;
            justify-content: left; 
            margin-right: -0.5rem;
        }

        .weight-brackets{
            flex: 1;
            display: flex;
            align-items: left;
            justify-content: left;
            margin-right: -0.5rem;
        }

        #query {
            height: 2.8rem;
            width: 35rem;
            background: #f5f5f5;
            outline: none;
            border: none;
            border-radius: 1.625rem;
            padding: 0 1rem;
            font-size: 1.rem;
            font-family: Arial, Helvetica, sans-serif;
        }

        .search-form {
            display: flex;
            align-items: center;
        }

        .search-button {
            width: 3.5rem;
            height: 2.8rem;
            margin-left: -3.5rem;
            background: none;
            border: none;
            outline: none;
        }
        
    </style>
        <title>Shipping Bracket Edit</title>
    </head>

    <body>
        <div class="shipping-bracket">
            <h3>Weight brackets for shipping</h3>
            <br><br>
        </div>

        <div class="weight-brackets">
            <br><br>
            From 0 to 1 lbs     free shipping
            <br><br>
            From 1 to 5 lbs     $500
            <br><br>
        </div>

        <div class="weight-brackets">
            <!-- Add form for new shipping cost -->
            <form id="add-cost-form">
                <input type="number" id="maxWeight" min="0" placeholder="Enter weight" required>
                <input type="text" id="cost" min="0" placeholder="Enter cost" required>
                <button type="submit">Add</button>
            </form>            

            <!-- Display existing shipping costs -->
            <div id="shipping-costs">
                <!-- Each shipping cost will be a div with this structure:
                <div class="shipping-cost">
                    <span>From 0 to 1 lbs free shipping</span>
                    <button class="remove-button">Remove</button>
                </div>
                -->
            </div>
        </div>

        <script src="/shipping.js">
            document.getElementById('add-cost-form').addEventListener('submit', function(event) {
                event.preventDefault();
        
                const minWeight = 0;
                const maxWeight = document.getElementById('maxWeight').value;
                const cost = document.getElementById('cost').value;
        
                // Send a POST request to the server
                fetch('/add-cost', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json', 
                    },
                    body: JSON.stringify({ minWeight, maxWeight, cost }),
                })
                .then(response => response.json())
                .then(data => {
                    console.log(data);
                    // Optionally, update the UI or show a success message
                })
                .catch(error => {
                    console.error('Error:', error);
                    // Handle the error, show an error message, etc.
                });
            });
        </script>
        
</body>

    
</html>

