<html>
    <head>
        <%- include('partials/navbar_administrator') %>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" integrity="...">

        <style>
            .btn {
                color: #000000;
                background-color: #e8c7c8;
                border-color: #e8c7c8;
            }

            .btn:hover {
                color: #000000;
                background-color: #b86d7e;
                border-color: #b86d7e;
            }
            .order-display {
                flex: 1; 
                display: flex;
                align-items: center;
                justify-content: center; 
                margin-right: -0.5rem;
            }
            
            .search-box {
                flex: 1; 
                display: flex;
                align-items: center;
                justify-content: center; 
                margin-right: -0.5rem;
                margin-bottom: 1rem;
            }

            .search-button {
                width: 3.5rem;
                height: 2.8rem;
                margin-left: -3.5rem;
                background: none;
                border: none;
                outline: none;
            }

            #query {
                height: 2.8rem;
                width: 35rem;
                background: #f5f5f5;
                outline: none;
                border: none;
                border-radius: 1.625rem;
                padding: 0 1rem;
                font-size: 1.rem;
                font-family: Arial, Helvetica, sans-serif;
            }

            table {
                text-align: left;
                border-collapse: collapse;
                width: 50%;
            }

            th, td {
                border: 1px solid #dddddd;
                text-align: left;
                padding: 8px;
            }
        </style>

        <h1>Orders</h1>
    </head>
    <body>
    
    <table>
        <td>
            <form action="/displayOrderFilterStatus" method="post" class="search-form">
                Filter by Shipping Status:
                <br/>
                <div class="radio-container"></div>
                <div class="radio-buttons">
                    <input type="radio"
                        id="pending"
                        name="status"
                        value="pending" checked>
                    <label for="pending">pending</label>
                    <br/>
                    <input type="radio"
                        id="shipped"
                        name="status"
                        value="shipped">
                    <label for="shipped">shipped</label>
                    <input type="submit">
                </div>
                </div>
            </form>
        </td>
    </table>

    <table>   
    <td>
        <form action="/displayOrderFilterAmount" method="post" class="search-form">
            Filter by Order Cost:
            <br/>
            <div class="search-container">
                <div class="radio-buttons">
                    <input type="text" 
                        id="amount" 
                        name="amount" 
                        placeholder="Filter for orders less than">
                </div>
                <!-- <input type="button" class="btn btn-primary" id="submit" name="Submit" value="submit"> -->
                <input type="submit">
            </div>
        </form>
    </td>    
    </table>


    <table>   
        <td>
            <form action="/displayOrderFilterDate" method="post" class="search-form">
                Filter by Order Date:
                <br/>
                <div class="radio-container"></div>
                <div class="radio-buttons">
                    <input type="radio"
                        id="Last 30 Days"
                        name="dateRange"
                        value="30" checked>
                    <label for="Last 30 Days">Last 30 Days</label>
                    <br/>
                    <input type="radio"
                        id="Last 3 Months"
                        name="dateRange"
                        value="90">
                    <label for="Last 3 Months">Last 3 Months</label>
                    <br/>
                    <input type="radio"
                        id="Last Year"
                        name="dateRange"
                        value="365">
                    <label for="Last Year">Last Year</label>
                    <input type="submit">
                </div>
                </div>
            </form>
        </td>    
    </table>
    
            <table>
                <tr>
                    <th style="text-align: center;">Order ID</th>                    
                    <th style="text-align: center;">Status</th>
                    <th style="text-align: center;">Cost</th>
                    <th style="text-align: center;">Weight</th>
                    <th style="text-align: center;">Date and Time</th>
                    <th style="text-align: center;">View Invoice</th>
                </tr>
                <% for (var order in all) { %>
                    <tr>
                        <td style="text-align: right;"> <%= all[order].id %> </td>                        
                        <td style="text-align: right;"> <%= all[order].status %> </td>
                        <td style="text-align: right;"> $<%= all[order].amount %> </td>
                        <td style="text-align: right;"> <%= all[order].weight %> </td>
                        <td style="text-align: center;"><%= all[order].date %> </td>
                        <td style="text-align: center;"><input type="button" class="btn btn-primary" id="invoiceDetail" name="invoiceDetail" value="View Invoice" onclick="showInvoice('<%= all[order].id %>')"></td>
                    </tr>
                <% } %>
            </table>
        <script>
            function showInvoice(orderId) {
                const newPageUrl = `/viewInvoice/${orderId}`
                window.open(newPageUrl, "_blank")
            }
        </script>
    </body>
</html>
